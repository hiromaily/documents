# 正規表現 / Regular Expressions

正規表現（Regular Expressions、略して regex または regexp）は、文字列操作やデータ抽出のために非常に強力なツール。プログラミングやテキスト処理の分野で広く使用されている。

## 基本構文

- `.` : 任意の 1 文字（改行文字を除く）
- `*` : 直前の文字の 0 回以上の繰り返し
- `+` : 直前の文字の 1 回以上の繰り返し
- `?` : 直前の文字の 0 回または 1 回の出現
- `^` : 文字列の先頭
- `$` : 文字列の末尾
- `[]` : 文字クラス。中の任意の 1 文字
- `[^]` : 否定型文字クラス。中のどれにも一致しない 1 文字
- `{n}` : 直前の文字が丁度 n 回繰り返される
- `{n,}` : 直前の文字が n 回以上繰り返される
- `{n,m}` : 直前の文字が n 回から m 回まで繰り返される
- `|` : OR、どちらかのパターンに一致
- `()` : グループ化。`|`や量指定子と組み合わせて使う
- `\` : 特殊文字をエスケープ

## 特殊文字とシーケンス

- `\d` : 任意の数字（[0-9]）
- `\D` : 数字以外の任意の文字
- `\w` : 任意の単語文字（アルファベット・数字・アンダースコア）
- `\W` : 単語文字以外の任意の文字
- `\s` : 任意の空白文字（スペース、タブ、改行など）
- `\S` : 空白文字以外の任意の文字

## 使用例

- **メールアドレスの検証**

  ```regex
  ^[a-zA-Z0-9._%+-]+@[a-zA-Z0-9.-]+\.[a-zA-Z]{2,}$
  ```

- **電話番号の検証（日本）**

  ```regex
  ^0\d{1,4}-\d{1,4}-\d{4}$
  ```

- **郵便番号の検証（日本）**

  ```regex
  ^\d{3}-\d{4}$
  ```

## プログラムでの使用例（Python の場合）

```py
import re

# 簡単な正規表現によるパターンマッチ
pattern = r"\d{3}-\d{3}-\d{4}"

text = "My phone number is 123-456-7890."
match = re.search(pattern, text)

if match:
    print("Found:", match.group())
else:
    print("Not found")
```

## 正規表現の応用

正規表現は、単なるマッチングだけでなく、置換や削除、分割、置換結果の取り出しなど多用途に使用できます。

- **置換**

  ```py
  text = "My phone number is 123-456-7890."
  result = re.sub(r"\d{3}-\d{3}-\d{4}", "XXX-XXX-XXXX", text)
  print(result)  # My phone number is XXX-XXX-XXXX.
  ```

- **分割**

  ```py
  text = "apple,banana,grape"
  result = re.split(r",", text)
  print(result)  # ['apple', 'banana', 'grape']
  ```

正規表現は非常に強力で柔軟性のあるツールだが、複雑な正規表現は読みづらくなりがちなので注意が必要。

## References

- [regexr.com](https://regexr.com/)
