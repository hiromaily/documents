# Automator

`Automator` は一般的には自動化のツールやシステムを指すが、`スマートコントラクト`を利用した自動化ツール

## ブロックチェーンの自動化に関する一般的な概念

### スマートコントラクト

最も一般的にブロックチェーンにおける自動化ツールとして知られているのは「スマートコントラクト」。スマートコントラクトは自己実行型の契約で、事前にプログラムされた条件が満たされると自動的に実行されるコード。

1. **自己実行型**:
   契約内容が事前にプログラムされ、条件が満たされた場合にコードが自動的に実行される。人間の介入が必要ない。

2. **不可逆**:
   一度展開されたスマートコントラクトはブロックチェーン上で変更ができないため、高い信頼性を持つ。

3. **透明性**:
   スマートコントラクトのコードは通常誰でも確認できるため、透明性が確保されている。

4. **例**:
   - 賃貸契約: 賃貸料が支払われたことを確認したら自動的に鍵が送られる。
   - 保険: 事故が報告され必要な書類が提出された場合、保険金が自動的に支払われる。

### 自動化フレームワークとツール

ブロックチェーンの操作やタスクを自動化するためのフレームワークやツールも数多く存在する。これらは特定のアクションをトリガーするためのスクリプトやプログラム、クラウドサービスや API 連携を利用して構築される。

1. **Chainlink（一チェーンリンク）**:
   スマートコントラクトを外部データやイベントと連携させるためのオラクルサービス。これにより、ブロックチェーン外部からの情報をスマートコントラクトに取り込んで自動実行が可能になる。

2. **Zapier や IFTTT**:
   これらの一般的な自動化ツールは、特定のアクションをトリガーとして他のシステムやサービスを連携させるために使用される。ブロックチェーン API と連携することも可能。

3. **Ethereum のトークン標準**:
   Ethereum には ERC-20 や ERC-721 のようなトークン標準がある。これらはスマートコントラクトの自動化や統合を容易にするための標準で、多くのプロジェクトで使用されている。

### 自動化によるメリット

- **効率化**: 手動による介入を減少させ、プロセスを高速化する。
- **信頼性**: プログラムされた通りに動作するため、エラーのリスクを軽減する。
- **コスト削減**: 人間の管理や監視が必要なくなることで運用コストが削減される。

## Automated Market Maker (AMM)

[Refer to The Uniswap Protocol](https://docs.uniswap.org/concepts/uniswap-protocol)

Automated Market Maker (AMM) は、ブロックチェーンの分散型取引所（DEX）における取引を自動化するためのプロトコルおよびアルゴリズムを指す。AMMは、注文の種類やマーケットメイキングの仕組みを自動化することで、取引の流動性を供給し、ユーザーが効率的に取引できる環境を提供する。

AMMは、従来型のオーダーブックに依存しない新しい金融取引の仕組みを提供し、特に分散型取引所の普及に大きく貢献している。流動性プールと価格設定アルゴリズムを基盤に、信頼性と透明性を確保しつつ、効率的な取引を可能にしている。これにより、多くのユーザーが自由にトークンを取引できる環境が整った。

非常に高度なレベルでは、AMM はオーダーブック市場の買い注文と売り注文を、相対的に評価された 2 つの資産の流動性プールに置き換える。一方の資産が他方の資産と交換されると、2 つの資産の相対価格が変動し、両方の新しい市場レートが決定される。このダイナミックな取引では、買い手または売り手は、他の当事者が残した特定の注文ではなく、プールと直接取引する。自動マーケットメイカーの利点と欠点は、従来のオーダーブックと比較して、多くの関係者によって活発に研究されている。

### AMMの仕組み

伝統的な取引所では、買い注文と売り注文が一致する（マッチングする）必要があるが、AMMではその必要がない。AMMは以下のような仕組みで動作する。

1. **流動性プール**:
   AMMは「流動性プール」と呼ばれるスマートコントラクトを通じてトークンのペアを管理する。これにより、いつでも取引ができるようになる。流動性プールは、流動性プロバイダー (LP) によって供給され、彼らは取引手数料の一部を報酬として受け取る。

2. **定価関数マーケットメーカー（CFMM）**:
   AMMは特定の価格設定アルゴリズム（定価関数）に基づいてトークンの価格を計算する。最も一般的なものは「恒常積価格メカニズム（Constant Product Market Maker, CPMM）」。この仕組みでは以下の関数が使用される：
   \[
   x * y = k
   \]
   ここで、xとyは2種類のトークンの量、kは一定値。この関数により、取引が行われるたびに価格が自動的に調整される。

3. **スリッページ**:
   取引量に応じて価格が変動するため、取引量が大きいほど実際の取引価格が市場価格からズレる可能性がある。これをスリッページと呼ぶ。

### 主要なAMMプロトコル

1. **Uniswap**:
   最も有名なAMMプロトコルの一つで、ユーザーがイーサリアム上でトークンを簡単に交換できるプラットフォーム。

2. **SushiSwap**:
   Uniswapのフォークで、独自のトークン（SUSHI）や報酬システムが組み込まれている。

3. **Curve**:
   安定コイン取引に特化したAMM。価格変動を最小限に抑えるための独自のアルゴリズムが使用されている。

4. **Balancer**:
   複数のトークンを一つの流動性プールにまとめ、複雑な金融プロダクトを提供することが可能。

### AMMのメリットとデメリット

#### メリット

1. **24/7の取引**:
   コンスタントな取引可能性がある。いつでも取引が可能なため、取引時間の制限がない。

2. **流動性提供者のインセンティブ**:
   LPは取引手数料の一部を受け取るため、流動性を提供するインセンティブがある。

3. **トラストレスな取引**:
   分散型取引所上の取引はスマートコントラクトによって管理され、中央管理者が不要。

#### デメリット

1. **スリッページと価格影響**:
   大規模な取引は価格へ影響を与えることがあり、スリッページが発生する。

2. **インパーマネントロス**:
   流動性を提供する際に、市場価格変動により一時的な損失が発生することがある。

3. **スマートコントラクトのリスク**:
   スマートコントラクトについてのバグやセキュリティリスクが考えられる。
