# 仮想マシン / Virtual Machine (VM)

仮想マシン（VM）は、物理的なハードウェア上で`ソフトウェアで仮想的に構築されるコンピュータシステムのこと`。一つの物理マシン上で複数の仮想マシンを稼働させることができ、それぞれが独立した動作環境を持つ。

## 仮想マシンの主要コンポーネント

1. **ハイパーバイザー（Hypervisor）**

   - 仮想マシンを管理・実行するソフトウェア。
   - **タイプ 1（ベアメタル・ハイパーバイザー）**: ハードウェア上で直接稼働する。例として VMware ESXi、Microsoft Hyper-V、Xen などがある。
   - **タイプ 2（ホスト型ハイパーバイザー）**: ホスト OS 上で動作する。例として VMware Workstation、Oracle VirtualBox などがある。

2. **ゲスト OS（Guest Operating System）**

   - 仮想マシン上で動作するオペレーティングシステム。ホスト OS とは異なる OS をインストールすることも可能。

3. **仮想ハードウェア**
   - CPU、メモリ、ストレージ、ネットワークインタフェースなど、物理的なハードウェアの仮想版。仮想ハードウェアはホストの物理ハードウェア上にマッピングされ、仮想マシンが物理マシンのリソースを共有する。

## 仮想マシンの利点

1. **リソースの効率的な利用**: 複数の仮想マシンが一つの物理マシン上で実行されるため、リソースの利用効率が向上する。
2. **柔軟性とスケーラビリティ**: 必要に応じて仮想マシンを容易に追加・削除できるため、スケーラブルなインフラストラクチャを構築できる。
3. **隔離とセキュリティ**: 仮想マシン同士が独立しているため、一つの仮想マシンの障害やセキュリティインシデントが他の仮想マシンに影響を与えにくい。
4. **テスト環境**: ソフトウェア開発のテスト環境として非常に有用。異なる OS や設定で簡単にテストが行える。

## 仮想マシンのデメリット

1. オーバーヘッド: 仮想マシンの管理や実行にはハイパーバイザーによるオーバーヘッドが発生。
2. パフォーマンス: 物理マシンに比べて若干のパフォーマンス低下が起こることがある。
3. 複雑性: 仮想マシンの管理には一定の専門知識が必要。

## 仮想マシンのアプリケーション

- **クラウドコンピューティング**: AWS、Azure、Google Cloud など多くのクラウドサービスは仮想マシンの上で動作している。
- **開発・テスト**: 開発環境の統一やテスト環境の迅速な展開に使用。
- **サーバー統合**: 物理サーバーの統合により、データセンターの効率を向上。

## コンテナとの比較

コンテナは VM とは異なり、ホスト OS のカーネルを共有し、アプリケーションとその依存関係を分離する。コンテナは軽量で迅速なデプロイメントが可能だが、完全な分離を提供する仮想マシンとは異なる。

## サービス

- [Parallels Desktop](https://www.parallels.com/products/desktop/)
- [VMware Fusion](https://www.vmware.com/products/fusion.html)
- [UTM](https://mac.getutm.app/)
- [QEMU](https://www.qemu.org/)
- [Oracle VM VirtualBox](https://www.virtualbox.org/)
