# インデックス

関係データベース（Relational Database、RDB）におけるインデックスは、`データベース内のデータを高速に検索するための仕組み`。インデックスの使用により、データベース`クエリのパフォーマンス`が大幅に向上する。`インデックスは一種のデータ構造`であり、特定の列に基づいてデータの位置を素早く見つけることができる。

## 1. インデックスの基本的な概念

インデックスはデータベーステーブル内の一つまたは複数の列に対して作成され、検索の高速化を目的としている。通常、インデックスはバックグラウンドで B ツリーやハッシュテーブルのようなデータ構造を使用して実装されている。

## 2. インデックスの種類

1. **プライマリーインデックス**:
   - プライマリキーに対して自動的に作成されるインデックス。
   - テーブル内のレコードを一意に識別するため、一つのテーブルに一つしか存在しない。
2. **ユニークインデックス**:
   - 特定の列または列の組み合わせが一意であることを保証する。
   - プライマリーキー以外にも一意制約を持たせたい場合に使用。
3. **セカンダリインデックス**:
   - プライマリーインデックス以外のインデックス。検索速度の向上に使用される。必ずしも一意である必要はない。
4. **クラスタードインデックス**:
   - テーブルのデータ自体がインデックスに従って物理的に並べ替えられている。通常、プライマリキーによってクラスタードインデックスが作成される。
5. **非クラスタードインデックス**:
   - データそのものは並び替えられず、インデックスだけが並び替えられる。テーブルのデータとインデックスが別々に存在する。

## 3. インデックスの利点

- **クエリ性能の向上**:
  検索、ソート、ジョイン操作が高速化されるため、クエリのパフォーマンスが大幅に向上する。
- **ユニーク性の維持**:
  ユニークインデックスを使用することで特定の列の値が一意であることを保証できる。

## 4. インデックスのデメリット

- **追加・更新・削除操作の遅延**:
  データの追加、更新、削除時にインデックスも更新する必要があるため、その分操作が遅くなる。

- **ストレージのオーバーヘッド**:
  インデックスの作成には追加のストレージが必要。

## 5. インデックスの作成方法

主要な RDBMS（リレーショナルデータベース管理システム）では、以下のような構文でインデックスを作成する。

```sql
-- プライマリーキーインデックス
CREATE TABLE sample_table (
    id INT PRIMARY KEY,
    name VARCHAR(50)
);

-- ユニークインデックス
CREATE UNIQUE INDEX idx_unique_name
ON sample_table (name);

-- 通常のインデックス
CREATE INDEX idx_sample_name
ON sample_table (name);
```

## References

- [【データベース基礎】インデックスの仕組みを理解する（初学者向け）](https://zenn.dev/farstep/books/learn-database-index-basics)
