# [LangChain](https://www.langchain.com/)

LangChain は、言語モデルと外部データ・アプリケーションを連携させるためのフレームワーク。特に、情報の検索、抽出、およびデータの処理を行うための一連のツールとプロセスを提供する。
さまざまなタスクや応用シナリオにおいて、効率的かつスケーラブルなソリューションを提供する。自然言語処理、データベース接続、モデルのインターフェース、そして全体のワークフロー管理をシームレスに統合することで、多様な AI アプリケーションの開発と展開を支援する。

## LangChain の主な特徴

1. **モジュール性**:

   - LangChain は複数のコンポーネントから成り、これらを組み合わせてカスタマイズすることができる。利用者は自分のニーズに合わせて必要なモジュールを選択し、統合できる。

2. **外部データソースの統合**:

   - データベース、API、ファイルシステムなど、さまざまな外部データソースからデータを取得し、それを言語モデルと組み合わせて利用することができる。

3. **パイプラインの構築**:

   - データの取得、前処理、モデルへの入力、結果の後処理など、タスクをシームレスに接続するパイプラインを容易に構築できる。

4. **スケーラビリティと拡張性**:
   - 大規模なデータセットや高度な処理にも対応できるように設計されており、異なるスケールに対応可能なアーキテクチャを持っている。

## 主なコンポーネント

以下は LangChain の主なコンポーネントとそれぞれの役割。

1. **データ接続モジュール**:

   - 外部データソースに接続し、必要なデータを取得するためのモジュール。たとえば、SQL や NoSQL データベース、RESTful API、GraphQL などとの統合をサポートする。

2. **データ前処理モジュール**:

   - 取得したデータを言語モデルに適した形式に変換するためのモジュール。トークン化、正規化、フィルタリングなどの前処理ステップが含まれる。

3. **モデルインタフェースモジュール**:

   - 言語モデル（例えば GPT-3、BERT）の API とインターフェースを取るためのモジュール。モデルにデータを入力し、応答を取得する。

4. **結果処理モジュール**:

   - モデルからの応答を加工し、必要に応じてデータベースやファイルシステムに保存したり、他のシステムに送信したりするためのモジュール。

5. **オーケストレーションモジュール**:
   - 上記のモジュールを統合し、全体のワークフローを管理するためのモジュール。エラーハンドリング、ログの取得、プロセスの監視などが含まれる。

## 利用される技術

LangChain には、以下のような技術が主に利用される。

- **自然言語処理（NLP）**: テキストデータの処理と理解。
- **機械学習と深層学習**: モデルのトレーニングと推論。
- **データベース技術**: データの保存と検索。
- **API 統合**: 外部システムとの通信。

## 応用例

LangChain は多くの分野で応用されている。以下はその一部。

1. **チャットボット**:

   - 顧客サポートや対話型アシスタントとして、リアルタイムでユーザーの問い合わせに応答するチャットボットシステム。

2. **ナレッジベースシステム**:

   - 大規模なドキュメントデータベースや社内知識ベースから関連情報を検索し、適切な回答を提供するシステム。

3. **コンテンツ生成**:

   - 特定のテーマやスタイルに基づいて、記事やレポートの自動生成を行うシステム。

4. **情報抽出**:

   - 文書内から特定の情報を抽出し、構造化データとして保存するシステム。例えば、契約書からの重要な条項の抽出。

5. **データ解析およびレポート作成**:
   - 数値データやテキストデータの解析結果を元に、自動でレポートを生成するシステム。

## LangChain ライブラリ

- [python](https://github.com/langchain-ai/langchain)
  - Star: 103k
- [typescript](https://github.com/langchain-ai/langchainjs)
  - Star: 13.9k
- [golang (非公式)](https://github.com/tmc/langchaingo)
  - Star: 6k

## 類似フレームワーク

- [LlamaIndex](https://www.llamaindex.ai/)
- [MS: Semantic Kernel](https://learn.microsoft.com/en-us/semantic-kernel/overview/)

## [Why Developers are Quitting LangChain](https://analyticsindiamag.com/ai-features/why-developers-are-quitting-langchain/)

開発者たちがLangChainから離れている理由について

### LangChainの現状

- **期待と問題点**: LangChainは、LLM（大規模言語モデル）を活用したアプリケーションを構築するためのフレームワークとして期待されていたが、開発者たちはその複雑さや不安定な更新に不満を抱いている。
- **不安定性**: APIの構造が頻繁に変更され、ドキュメントも一貫性がないため、多くの開発者がフラストレーションを感じている。ある開発者は「インターフェースが常に変わり、ドキュメントは古く、抽象化が過剰である」と述べている。

### LangChainの複雑さ

- **設計の批判**: LangChainの抽象化の層が多すぎて理解や修正が難しいとされ、特に経験豊富な開発者からは「生産環境には向かない」との声が上がっている。
- **プロトタイプには適しているが**: LangChainはプロトタイプ作成には適しているものの、実際の製品開発には不向きとされている。

### 代替案の模索

- **他のフレームワーク**: 開発者たちは`PydanticAI`や`LlamaIndex`などの代替フレームワークを探し始めている。`PydanticAI`はよりシンプルなアプローチを提供し、PocketFlowはモジュール性を重視している。
- **カスタムソリューションの推奨**: 経験豊富な開発者は、他のフレームワークに依存するのではなく、自分たちのスタックを構築することを勧めている。

### 結論

LangChainは依然として急速に開発が進められているが、多くの開発者はその不安定性や複雑さから離れつつある。今後、LangChainが開発者の信頼を取り戻すためには、安定性やドキュメントの改善、実用性の向上が必要。しかし、多くの開発者はすでに他の安定した選択肢に移行している状況。

## References

- [【図解解説/初心者 OK】たった 1 時間で Next.js で最新 AI を使ったチャットアプリを作ろう【RAG/LangChain/OpenAI/TypeScript】](https://qiita.com/Sicut_study/items/d133120dd32d2d6a248c)
- [AI エージェント開発を体系的に学ぶには最適の入門書「LangChain と LangGraph による RAG・AI エージェント［実践］入門」](https://dev.classmethod.jp/articles/review-langchain-langgraph-ai-agent/)
- [AI マルチエージェントのアプリを Chainlit で爆速開発しよう](https://qiita.com/asuka0708japan/items/cdc9169cd06e03c14ada)
- [「LangChain と LangGraph による RAG・AI エージェント［実践］入門」でつまずいたことメモ](https://qiita.com/segavvy/items/b31efa98a2d4c20e9ec8)
- [LangChain アプリケーション開発入門 - Streamlit 活用ガイド](https://zenn.dev/cloud_ace/articles/langchain-beginner-streamlit)
