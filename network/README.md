# Network

## ループバック (loopback)

コンピュータネットワークにおいて自身のネットワークスタックや通信ハードウェアを通じて自身と通信するための仕組み。これは自己診断やデバッグ、開発用途などに使用される。

1. **自己参照通信**:

   - ループバックアドレスは、デバイス自身と通信するために使用される。これは、外部のネットワークを介さずにローカルのネットワークスタックをテストしたり、アプリケーションが正しく動作しているかを確認するために役立つ。

2. **デフォルトアドレス**:

   - IPv4 では、**127.0.0.1** がデフォルトのループバックアドレス。
   - IPv6 では、**::1** がデフォルトのループバックアドレス。

3. **ネットワークインターフェース**:
   - 専用のネットワークインターフェース（仮想インターフェースとも言います）が用意されており、通常は`lo`（Linux/Unix 系）や`Loopback`（Windows 系）といった名前で表される。

### loopback の使い方と目的

1. **ソフトウェア開発・テスト**:

   - ソフトウェアやサービスが正常に動作するかどうかを確認するために、ループバックインターフェースがよく使われる。開発中のアプリケーションをローカルで実行し、ブラウザやクライアントから 127.0.0.1 や localhost を使ってアクセスするのがその一例。

2. **自己診断**:

   - 自身のネットワークスタックの正常性を確認するため。また、ネットワーク設定が正しいかをチェックする際にも使用される。

3. **セキュリティと分離**:
   - 外部からのアクセスを防ぎたい場合、特定のサービスがループバックインターフェースのみにバインドされることがある。これにより、他のマシンからそのサービスに直接アクセスすることができなくなる。

### loopbackの実例

例えば、以下のように Web サーバーを立ち上げたとする

```sh
python -m http.server 8000
```

この場合、デフォルトで `127.0.0.1（localhost）`でバインドされ、この PC 上のブラウザから「http://127.0.0.1:8000」または「http://localhost:8000」を使ってアクセスできる。他のPCからはアクセスできないが、これはループバックを使って自身のローカルでテストしているため。

## `127.0.0.1`、`localhost`、`0.0.0.0`の違い

### 127.0.0.1

- **127.0.0.1** は IPv4 におけるループバックインターフェースのアドレス。
- このアドレスは、デバイス自体を指し示す。つまり、自分自身に向けた通信。
- 主に開発中やテスト中にローカルでサービスを確認するために使用される。

### localhost

- **localhost** は、ホスト名といえども、実際には 127.0.0.1 に解決（リゾルブ）される名前。
- つまり、localhost と 127.0.0.1 は同じものであり、同様に自分自身を指す。
- ブラウザで「localhost」と入力することで、127.0.0.1 と同様にローカルホストに接続できる。

### 0.0.0.0

- **0.0.0.0** は IPv4 での特殊なアドレスで、特に「全ての IPv4 アドレス」を意味する。
- サーバー側において、このアドレスがバインド（束縛）されると、すべてのネットワークインターフェース（例：ローカルの IP アドレス、LAN の IP アドレス、WiFi の IP アドレスなど）で接続を受け入れるという意味になる。
- つまり、0.0.0.0 はどのネットワークインターフェースでもサーバーを聞きに行くことができるように設定されることが一般的。

### 各アドレスの使用例

- **127.0.0.1**や**localhost**は一般的にローカル開発環境やテスト環境で使用される。
- **0.0.0.0**はサーバーアプリケーションが全てのネットワークインターフェース上で動作する場合に使用される。これはサーバーのアクセスを外部ネットワークからも受け入れるように設定する際に便利。

## Tools

[参考: Essential CLI/TUI Tools for Developers](https://packagemain.tech/p/essential-clitui-tools-for-developers)

- [dog](https://github.com/ogham/dog)
  - DNS Client
- [gping](https://github.com/orf/gping)
  - グラフィカルなPing

### References

- [127.0.0.1とlocalhostと0.0.0.0の違い](https://qiita.com/1ain2/items/194a9372798eaef6c5ab)
