# 非対称暗号 (公開鍵暗号) / Public-key Cryptography

[WIP]

公開鍵暗号（Public-key Cryptography）は、暗号化と復号、デジタル署名、鍵交換などに使用される暗号技術の一つで、公開鍵と秘密鍵の 2 つの異なる鍵を使用する方式。公開鍵暗号は非対称鍵暗号とも呼ばれ、データのセキュリティと信頼性を確保するための重要な役割を果たす。
公開鍵暗号は、データのセキュリティと信頼性を確保するために非常に重要な技術。公開鍵と秘密鍵を使い、ユーザ間での安全な通信、認証、デジタル署名、鍵交換を実現する。RSA や ECC などのアルゴリズムが広く使用されており、インターネットのセキュリティ、電子メール、デジタル署名など、さまざまな分野で不可欠な役割を果たしている。ただし、高い計算コストや量子コンピュータの脅威などの課題もあり、これらに対応する技術の進展も進められている。

## 基本概念

1. **公開鍵（Public Key）**: 広く公開される鍵で、暗号化やデジタル署名の検証に使用される。
2. **秘密鍵（Private Key）**: 秘密に保持される鍵で、復号やデジタル署名の生成に使用される。

## 主要な機能

1. **暗号化と復号**:

   - **暗号化**: 送信者は受信者の公開鍵を用いてメッセージを暗号化する。
   - **復号**: 受信者のみが自身の秘密鍵を用いて暗号化されたメッセージを復号できる。

2. **デジタル署名**:

   - **署名の生成**: 署名者は自身の秘密鍵を用いてメッセージに署名を生成する。
   - **署名の検証**: 受信者や第三者は署名者の公開鍵を用いて署名を検証し、そのメッセージが署名者によって本当に生成されたものであることを確認する。

3. **鍵交換**:
   - 安全に対称鍵を交換するためのプロトコルとして利用され、後続の対称鍵暗号通信のセキュリティを確保する。
   - 例として、Diffie-Hellman 鍵交換や ECDH（Elliptic Curve Diffie-Hellman）などがある。

## 代表的なアルゴリズム

1. **RSA (Rivest-Shamir-Adleman)**:
   - もっとも有名で広く使われている公開鍵暗号の一つ。非常に高いセキュリティを提供し、多くのセキュアプロトコルで利用されている。

2. **ECC (Elliptic Curve Cryptography)**:

   - 楕円曲線暗号で、RSA と同等のセキュリティを保ちながら、より短い鍵長で済むため効率的。
   - 特に Elliptic Curve Digital Signature Algorithm（ECDSA）や Elliptic Curve Diffie-Hellman（ECDH）として有名。

3. **DSA (Digital Signature Algorithm)**:

   - デジタル署名に特化したアルゴリズム。主にデータの改ざん防止と認証に使われる。

4. **ElGamal**:
   - Diffie-Hellman 鍵交換に基づく暗号化アルゴリズム。確率的暗号方式の一例であり、特に学術研究でよく使われる。

## 運用と課題

**鍵の管理**:

- 公開鍵は広く配布する必要があり、これは通常デジタル証明書や公開鍵インフラストラクチャ（PKI）を通じて行われる。
- 秘密鍵は絶対に漏洩してはならない重要な情報であり、安全に保護する必要がある。

**計算コスト**:

- 公開鍵暗号は対称鍵暗号に比べて計算コストが高く、暗号化・復号速度が遅い。通常、公開鍵暗号はセッションキーなどの短いメッセージの暗号化に用いられ、その後の通信は対称鍵暗号（例えば AES）で行う。

**セキュリティの鍵長**:

- RSA では最低 2048 ビット以上の鍵長が推奨されています。ECC では 160 ビットから 256 ビット程度の鍵長が一般的。
- 鍵長が長くなると計算コストが増加するため、適切なバランスが重要。

**量子コンピュータの脅威**:

- 量子コンピュータは、Shor のアルゴリズムを使って公開鍵暗号を効率的に破ることができると言われている。そのため、Post-Quantum Cryptography（PQC）という新しい暗号の研究も進んでいる。

## 実際の適用例

1. **SSL/TLS**: インターネット通信をセキュアにするプロトコル。HTTPS として Web ブラウザとサーバー間の通信を保護する。
2. **電子メールのセキュリティ**: PGP（Pretty Good Privacy）や S/MIME を使って電子メールの暗号化と署名を行う。
3. **デジタル署名**: ソフトウェアの検証や電子政府の文書署名に使用される。
4. **デバイスの認証**: IoT デバイスやスマートカードの認証など、さまざまなデバイスのセキュリティ確保に使用される。

## まとめ

- 公開鍵で暗号化し、プライベート鍵で複号化する
- `対象暗号`は暗号化の鍵と複号化の鍵が等しいため、受信者に鍵を配送する必要がある。
  - `複号化の鍵を受信者に配送しなくてはいけない`という問題を`鍵配送問題`と呼ぶ
- `公開鍵暗号`を使えば、復号化のための鍵を受信者に送る必要はなくなり、`鍵配送問題`解決する

### 鍵配送問題
