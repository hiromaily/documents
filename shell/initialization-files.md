# シェル初期化ファイル / Shell Initialization Files

Shell が起動したときに読み込まれる設定ファイル全般を指す。これには、ログインシェルや非ログインシェルの起動時に読み込まれるファイルが含まれる。

## File List

- **Bash 関連:**

  - `.bash_profile`
    - Bash がログインシェルとして実行されるときに読み込まれる
  - `.bashrc`
    - 非ログインシェルが起動されたときに読み込まれる設定ファイル (Terminal の window など)
  - `.bash_login`
    - ログインシェル時に読み込まれる設定ファイル。これが存在する場合、`~/.profile`や`~/.bash_profile`は読み込まれない
  - `.profile`
    - ログインシェルが起動されたときに読み込まれる設定ファイル

- **Zsh 関連:**

  - `.zprofile`
  - `.zshrc`
  - `.zshenv`
    - 環境変数の基本設定など、最も基本的な設定を行う
  - `.zlogin`
  - `.zlogout`
    - ログインシェルが終了するときに読み込まれるファイルで、終了処理を行う

- **全般的なシェル設定ファイル:**
  - `~/.inputrc`
    - Readline ライブラリによるシェルの入力行の設定がここに記載される。例えば、キーのバインディングや補完動作の設定を行う

### システム全体 vs ユーザー特有

- **システム全体の初期化ファイル（System-wide Initialization Files）:**

  - `/etc/profile`
    - システム全体のログインシェルの設定が記載されているファイルで、各ユーザーのシェルがログインするときに読み込まれる
  - `/etc/bashrc`
    - `.bashrc`のシステム全体の版で、すべてのユーザーに対して共通の設定を行う
  - `/etc/zprofile`
  - `/etc/zshrc`
  - `/etc/zshenv`

- **ユーザー特有の初期化ファイル（User-specific Initialization Files）:**
  - `~/.bashrc`
  - `~/.bash_profile`
  - `~/.zshrc`
  - `~/.zprofile`

## 使用される状況

- **ログインシェル:**

  - システムにログインするときに使用され、ユーザープロフィール全体を設定する。
  - 例: `.bash_profile`, `.zprofile`

- **非ログインシェル:**
  - 新しいターミナルウィンドウを開いたときなど、シェルのインタラクティブセッションに使用される。
  - 例: `.bashrc`, `.zshrc`

## 配置場所

- **ホームディレクトリ:**
  - 各ユーザーごとの設定ファイル。例: `~/.bashrc`, `~/.zshrc`
- **システムディレクトリ:**
  - システム全体の設定ファイル。例: `/etc/profile`, `/etc/bashrc`

## `.zprofile`と`.zshrc`の使いわけ

### `.zprofile`

`.zprofile` はログインシェルに関連した設定を行うためのファイル

- **読み込まれるタイミング:**

  - ログインシェルが起動されたときに読み込まれる。ログインシェルとは、たとえばシステムへのログイン時やリモートログイン（SSH など）時に起動されるシェルのこと。

- **主な用途:**

  - 環境変数の設定
  - パスの設定（`PATH` など）
  - システム全体の初期化設定

- **例:**

  ```sh
  export PATH="$HOME/bin:$PATH"
  export LANG=en_US.UTF-8
  ```

### `.zshrc`

`.zshrc` は非ログインシェルに関連した設定を行うためのファイル

- **読み込まれるタイミング:**

  - 非ログインシェルが起動されたときに読み込まれる。非ログインシェルとは、新しいターミナルウィンドウを開いたときや、新しいターミナルタブを開いたときなどに起動される。

- **主な用途:**

  - エイリアスの設定
  - シェルの関数やプロンプトのカスタマイズ
  - シェルの動作設定（オプションの設定など）

- **例:**

  ```sh
  alias ll='ls -la'
  PS1='%n@%m:%~$ '
  ```

### 使い分けのポイント

1. **環境変数の設定:**

   - 環境変数やパスの設定は `.zprofile` に書く。これにより、ログインシェル全体で有効になる。

   ```sh
   # .zprofile example
   export PATH="$HOME/bin:$PATH"
   export LANG=en_US.UTF-8
   ```

2. **エイリアスや関数の定義:**

   - エイリアスやシェル固有の設定は `.zshrc` に書く。非ログインシェルでもこれらが適用されるようになる。

   ```sh
   # .zshrc example
   alias ll='ls -la'
   autoload -Uz promptinit && promptinit
   prompt adam1
   ```

3. **初期化処理やメッセージ表示:**

   - 初期化処理やログイン時に表示するメッセージなど、ログイン時だけに実行したい処理は `.zprofile` に書く。

   ```sh
   # .zprofile example
   echo "Welcome, $USER!"
   ```
