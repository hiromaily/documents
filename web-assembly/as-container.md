# WebAssembly（Wasm）をコンテナイメージとして使用する

WIP: 理解できていない

WebAssembly をコンテナイメージとして利用することで、軽量で高速かつセキュアなアプリケーションのデプロイが可能となる。特に資源が限られた環境や、非常に迅速にスケールする必要がある場面で有効。この新しいコンビネーションは、今後のクラウドネイティブなアプリケーション開発において重要な役割を果たす可能性がある。

## WebAssembly とは？

WebAssembly は、ブラウザ上で高性能な実行速度を実現するためのバイナリ形式の実行コード。もともとはウェブブラウザ内で高速に動作するために設計されたが、その効率性とプラットフォーム独立性から、ブラウザ以外でも使用されている。

## コンテナとは？

コンテナは、アプリケーションとその依存関係を一緒にパッケージングし、どこでも一貫して実行できるようにする技術。最も一般的には Docker の形で使用されており、開発から本番環境までの一貫した動作を保証する。

## WebAssembly をコンテナイメージとして使用するという意味

1. **軽量化と高速起動**：
   WebAssembly は非常に小さなバイナリ形式であり、起動時間も非常に短い。これにより、コンテナの起動時間とイメージサイズが大幅に削減され、高いパフォーマンスが期待できる。

2. **プラットフォーム独立性**：
   WebAssembly はもともとプラットフォームに依存しないバイトコードとして設計されている。これにより、異なるプラットフォーム間での移植性を向上させる。

3. **セキュリティ**：
   WebAssembly はサンドボックス環境で実行されるため、セキュリティの観点でも優れている。この特性を利用して、セキュアなコンテナ環境を構築できる。

## 実際の利用ケース

1. **マイクロサービスアーキテクチャ**：
   マイクロサービスを WebAssembly で実装すると、軽量かつ高速に動作するマイクロサービスを実現できる。

2. **サーバーレス環境**：
   サーバーレスアーキテクチャにおいて、WebAssembly を利用すると関数の迅速な起動と実行が可能となり、コストとパフォーマンスの両面でメリットがある。

3. **エッジコンピューティング**：
   エッジデバイスの限られたリソースを有効に活用するために、WebAssembly の軽量性と高速性が有用。

## 実際の技術スタック

WebAssembly をコンテナイメージとして使用するには、以下のようなツールや技術が使われることがある。

- **Krustlet**：Kubernetes 上で WebAssembly を実行するためのノードインスタンス
- **WasmEdge**：WebAssembly のランタイム環境
- **Docker**：WebAssembly バイナリを含む軽量コンテナイメージの作成と実行

## References

- [WebAssemblyをコンテナイメージとし、コンテナレジストリなどで配布可能にする「Wasm OCI Artifact layout」仕様が登場](https://www.publickey1.jp/blog/24/webassemblywasm_oci_artifact_layout.html)
- [Web版VSCodeがDockerコンテナをWASM環境で起動、Webブラウザ内ローカルマシンとして利用可能に。拡張機能「vscode-container-wasm」登場](https://www.publickey1.jp/blog/24/webvscodedockerwasmwebvscode-container-wasm.html)
