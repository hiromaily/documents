# CPU

CPU はコンピュータの中心となる演算装置であり、「コンピュータの脳」とも称される。
CPU はコンピュータの中枢であり、演算処理、制御、データの移動などを担っている。ALU や制御装置、レジスタ、キャッシュなどの基本構造から、クロック速度やキャッシュ階層、マルチコアなどのパフォーマンス要因まで、多岐にわたる要素が性能に影響を与える。

## 1. CPU の基本概念

**CPU（中央処理装置）**は、コンピュータの中で最も重要な部分です。主に以下の 3 つの役割を持つ

- **演算処理**: 数学的な計算や論理的な操作を行う。
- **制御**: コンピュータ内の他のコンポーネントを制御し、指示を出す。
- **データの移動**: メモリや入出力デバイスとのデータのやり取りを行う。

## 2. CPU の基本構造

CPU は一般的に以下の部分で構成されている

### a. 算術論理演算装置（ALU: Arithmetic Logic Unit）

ALU は、基本的な算術演算（加算、減算、乗算、除算）や論理演算（AND、OR、NOT、XOR）を実行する部分。

### b. 制御装置（Control Unit）

制御装置は、CPU 全体の動作を管理・制御します。メモリから命令を取り出し（フェッチ）、その命令を解釈し（デコード）、実行する（エグゼキュート）。

### c. レジスタ（Registers）

レジスタは、ALU や制御装置が直接アクセスできる高速な記憶装置。実行中の命令やデータを一時的に保持する。

### d. キャッシュメモリ（Cache）

キャッシュは、メインメモリよりも高速でアクセスできる小容量のメモリ。頻繁に使われるデータを一時的に保持することで、全体の処理速度を向上させる。

## 3. CPU の動作サイクル

CPU の動作は「マシンサイクル（機械サイクル）」と呼ばれるフェッチ、デコード、エグゼキュート、ライトバックの 4 つのステージで構成される。

1. **フェッチ（Fetch）**: メモリから命令を取り出す。
2. **デコード（Decode）**: 取り出した命令を解釈し、何をするべきかを理解する。
3. **エグゼキュート（Execute）**: 命令に従って必要な演算や操作を実行する。
4. **ライトバック（Writeback）**: 結果をレジスタやメモリに書き戻す。

## 4. マルチコアとパフォーマンス

### マルチコア（Multi-core）

多くの現代の CPU は複数のコア（演算ユニット）を持っている。これにより、複数のタスクを同時に処理することができ、マルチタスクの性能が向上する。

### クロック速度（Clock Speed）

CPU の性能を測るうえで重要な指標の一つがクロック速度。これは CPU が指示を処理する速度を示し、単位は Hz（ヘルツ）です。一秒内に何回のサイクルを処理できるかを示す。今日の CPU は通常 GHz（ギガヘルツ）の範囲。

### キャッシュの階層

キャッシュメモリは通常、L1、L2、L3 の 3 つのレベルに分かれており、高速かつ容量が小さい順に並んでいる。L1 は最も高速ですが容量が小さく、L3 は容量が大きいが L1 や L2 ほど高速ではない。

## 5. CPU の種類と代表例

### デスクトップ CPU

- **Intel Core シリーズ**: 例として Core i3, i5, i7, i9 など。
- **AMD Ryzen シリーズ**: 例として Ryzen 3, 5, 7, 9 など。

### モバイル CPU

- **Apple M1 チップ**: Apple の Macbook や iPad に使用。
- **Qualcomm Snapdragon シリーズ**: 多くのスマートフォンに使用。

### サーバー向け CPU

- **Intel Xeon シリーズ**
- **AMD EPYC シリーズ**
