# aqua

**aqua**は宣言的な CLI バージョン管理ツール。

## 特徴

1. **YAML でバージョン管理**:

   - `aqua`では、YAML 形式の設定ファイルを使用して CLI ツールとそのバージョンを管理します。
   - 設定ファイルで宣言的にツールとそのバージョンを定義することで、明確なバージョン管理が可能です。

2. **バージョンの固定**:

   - 必ずツールのバージョンを厳密に指定する必要があります。
   - これにより、インストールの実行タイミングによってツールのバージョンが変わる問題が解消されます。

3. **ツールの自動インストール**:

   - 設定ファイルで指定されたバージョンのツールが自動的にインストールされます。
   - 設定ファイルと実際に実行されるツールのバージョンの乖離が生じることはありません。

4. **バージョンの簡単な切り替え**:

   - 設定ファイルで指定されたバージョンを変更するだけで、容易にバージョンを切り替えられます。
   - プロジェクトごとに異なるバージョンを使用することも可能です。

5. **チーム内でのツール管理**:
   - 個人だけでなく、チームや組織で使用するツールの管理もサポートしています。
   - 組織やチームの dotfiles リポジトリを用意することで、ツールのバージョンを一元管理できます。

## 主なユースケース

1. **CI/CD でのツール管理**:

   - CI/CD で必要なツールを管理する際に利用されます。
   - 設定ファイルを宣言的に書くことで、便利にツールをインストールできます。

2. **ローカルでの開発ツール管理**:

   - プロジェクトごとに必要なツールを管理する際に利用されます。
   - 設定ファイルを用いて、簡単にツールをインストールおよび管理できます。

3. **個人用ツール管理**:
   - dotfiles リポジトリを使用して、個人用のツールを管理します。
   - 複数の PC でツールとそのバージョンを揃えることが可能です。

## 追加機能

- **Renovate との連携**:
  - Renovate の Preset Config を使用して、ツールのバージョン更新を自動化できます。
- **Private GitHub リポジトリのサポート**:
  - Private な GitHub リポジトリで管理されているツールのインストールもサポートしています。
- **aqua-proxy**:
  - aqua が内部的に依存しているツールで、コマンド実行時にツールのバージョンを動的に変更します。

## その他

- **設定ファイル例**:

  ```yml
  registries:
    - type: standard
      ref: v4.281.0 # renovate: depName=aquaproj/aqua-registry

  packages:
    - name: hashicorp/terraform@v1.10.3
    - name: gruntwork-io/terragrunt@v0.71.1
    - name: tofuutils/tenv@v3.2.11
  ```

## References

- [全員開発時代のaquaで実現するローカル環境爆速セットアップ](https://tech.layerx.co.jp/entry/aqua-local-setup)
